"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),EatThemAll=function(){function n(t,i){_classCallCheck(this,n);this.canvas=t[0];this.server=i;this.canvas.width=window.innerWidth;this.canvas.height=window.innerHeight;this.ctx=canvas.getContext("2d");this.running=!1;this.width=this.height=5e3;this.visibleWidth=this.canvas.width;this.visibleHeight=this.canvas.height;this.initialized=!1;this.id="";t.bind("contextmenu",function(n){n.preventDefault();var t={x:n.offsetX,y:n.offsetY};i.updateDestination(t)})}return _createClass(n,[{key:"start",value:function(){this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"checkInitialize",value:function(){this.initialized=typeof this.ctx!="undefined"&&(typeof this.id!="undefined"||this.id!="")}},{key:"render",value:function(n){var t=this,r,i;if(this.running){if(!this.initialized){console.log("Object is not correctly initialized");return}this.ctx.globalAlpha=1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);console.log("MY ID:"+this.id);n.forEach(function(n){return console.log(n.id)});r=n.find(function(n){return n.id===t.id});i=r.location;this.ctx.shadowBlur=10;n.forEach(function(n){n.location.x+=i.x;n.location.y+=i.y;t.ctx.globalAlpha=n.alpha;t.ctx.beginPath();t.ctx.fillStyle=n.color;t.ctx.arc(n.location.x,n.location.y,n.radius,0,2*Math.PI);t.ctx.fill();t.ctx.globalAlpha=1;t.ctx.fillStyle="black";t.ctx.font="12px Arial";t.ctx.fillText(n.name,n.location.x-17,n.location.y-10)});this.ctx.shadowBlur=0}}},{key:"id",set:function(n){this._id=n;this.checkInitialize()},get:function(){return this._id}}]),n}();